<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentjs</title>
</head>

<body>
    <script>

        var todoList = {
            todos: [],
            displayTodos: function () {
                //verifica daca lista todos este goala si afiseaza ca este goala
                if (this.todos.length === 0) {
                    console.log('Your todo list is empty!');
                } else {
                /*daca lista nu este goala, atunci continua sa adauge 1 de fiecare data cand lungimea listei este mai mare decat 0/ 1/ 2... 
                afiseaza valoarea lui i*/
                    console.log('My todos:');
                    for (var i = 0; i < this.todos.length; i++) {
                        console.log(this.todos[i].todoText);

                        //verifica daca valoarea completed este true si afiseaza x
                        if (this.todos[i].completed === true) {
                            console.log('(x)', this.todos[i].todoText);
                        //daca valoarea completed nu este true, afiseaza emtpy space
                        } else {
                            console.log('()', this.todos[i].todoText);
                        }

                    }
                }
            },
            /*adauga todoText (la care se face referinta mai sus la afisare) 
            ii da automat completed false*/
            addTodo: function (todoText) {
                this.todos.push({
                    todoText: todoText,
                    completed: false
                });
                this.displayTodos();
            },
            changeTodo: function (position, todoText) {
                this.todos[position].todoText = todoText;
                this.displayTodos();
            },
            deleteTodo: function (position, word = 1) {
                this.todos.splice(position, word);
                this.displayTodos();
            },
            // modifica valoarea la completed (by default false) a unui todo in opusul sau (true)
            toggleCompleted: function (position) {
                var todo = this.todos[position];
                todo.completed = !todo.completed;
                this.displayTodos();
            },

            toggleAll: function() {
                var totalTodos = this.todos.length;
                var completedTodos = 0;
                //verifica cate itemuri sunt completed
                    for (var i=0; i<totalTodos; i++) {
                        if (this.todos[i].completed === true) {
                        completedTodos++;
                        }
                    }   
                            //daca toate sunt complete (true), le face uncheck (false)
                        if (completedTodos === totalTodos) {
                            for (var i= 0; i<totalTodos; i++) {
                            this.todos[i].completed = false;
                            }
                            //daca nu toate sunt complete (true), atunci le face pe toate true
                        } else {
                    for (var i=0; i<totalTodos; i++) {
                        this.todos[i].completed = true;
                        }
                    }
                        this.displayTodos();
            }
               

        };


    </script>
</body>

</html>